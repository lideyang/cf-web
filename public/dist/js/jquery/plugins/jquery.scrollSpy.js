define(function(require,exports,module){var t=require("jquery");!function($){function t(t,o){var r={isFixed:!0,top:0},s=this,i=s.defs=$.extend(!0,r,t);this.obj=o,this.objTop=$(o).offset().top,i.isFixed&&this.stickUp(),$(o).on("click","a",function(){var t=$(this);$(o).find("a").removeClass("current"),$(this).addClass("current");var r=t.attr("href"),s=$(r).offset().top;return $("body, html").animate({scrollTop:s},800),!1});var n=new Array,e=$(o).find("a");e.each(function(){var t=$(this).attr("href"),o=parseInt($(t).offset().top);n.push(o)}),n.sort(function(t,o){return t-o}),$(window).on("scroll",function(){var t=$(this).scrollTop();i.isFixed&&s.stickUp();var o=0;for(var r in n){if(r=parseInt(r),console.log(t+":"+n[2]),r==n.length-1&&t>=n[r]){o=n.length-1;break}if(t>=n[r]&&t<n[r+1]){o=r;break}}e.removeClass("current"),e.eq(o).addClass("current")})}t.prototype={stickUp:function(){var t=$(document).scrollTop(),o=$(this.obj);t>this.objTop?o.css({position:"fixed",top:"0px"}):o.css("position","static")}},$.fn.scrollSpy=function(o){for(var r=0,s=this.length;r<s;r++){if($.data(this[r],"scrollSpy"))return;var i=new t(o,this[r]);$.data(this[r],"scrollSpy",i)}return this}}(t)});