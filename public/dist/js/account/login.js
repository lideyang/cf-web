define(function(require,exports,module){var $=require("jquery");module.exports={init:function(){},validator:function(){require("jquery.validate");var e=$("#loginForm");e.validate({debug:!0,rules:{loginId:{required:!0,isName:!0},loginPwd:{required:!0,byteRangeLength:[6,30]}},messages:{loginId:{required:"请输入登录账号",isName:"请输入正确的登录账号"},loginPwd:{required:"请输入密码",byteRangeLength:"请输入正确的密码"}},ignore:"#PWD",errorPlacement:function(e,n){},invalidHandler:function(e,n){$.each(n.errorList,function(e,n){var i=$(n.element),r=i.parent();i.offset();return r.append('<div class="vld-tooltip">'+n.message+"</div>"),!1})},success:function(e,n){$(n).parent().find(".vld-tooltip").remove()},submitHandler:function(e){var n=new require("safe/jsencrypt").encrypt();n.setPublicKey(publicKey),$.ajax({url:basePath+"/user/login",mockUrl:"/account/login",type:"POST",data:{loginId:$("#loginId").val(),password:n.encrypt($("#loginPwd").val())},success:function(e){"200"==e.code?location.href=e.data.gto:layer.msg(e.message,{icon:2})},error:function(e,n,i){}})}})}}});